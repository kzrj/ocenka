{"version":3,"sources":["redux/redux-sauce/auth.js","redux/redux-sauce/shops.js","redux/redux-sauce/products.js","redux/api/endpoints.js","redux/api/utils.js","redux/api/authApi.js","redux/api/productsApi.js","redux/api/shopsApi.js","redux/sagas/authSagas.js","redux/sagas/productsSagas.js","redux/sagas/shopsSagas.js","redux/sagas/index.js","redux/store/index.js","containers/Main.js","containers/ShopDetail.js","containers/CreateShop.js","containers/ViberLogin.js","containers/HeaderContainer.js","index.js","components/MainPage.js"],"names":["createActions","loginRequest","loginSuccess","loginFailure","logoutRequest","logoutSuccess","logoutFailure","checkTokenRequest","checkTokenSuccess","checkTokenFail","Types","Creators","AuthTypes","INITIAL_STATE","Immutable","fetching","user","error","isLoggedIn","isLoggingIn","AuthSelectors","getUser","state","data","merge","action","payload","profile","reducer","createReducer","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","CHECK_TOKEN_REQUEST","CHECK_TOKEN_FAIL","CHECK_TOKEN_SUCCESS","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","getShopsRequest","getShopsFail","getShopsSuccess","getShopDetailRequest","getShopDetailFail","getShopDetailSuccess","ShopsTypes","listFetching","shop_list","errorList","detailFetching","shopDetail","errorDetail","message","ShopsSelectors","getShops","shops","GET_SHOPS_REQUEST","GET_SHOPS_SUCCESS","GET_SHOPS_FAIL","GET_SHOP_DETAIL_REQUEST","GET_SHOP_DETAIL_SUCCESS","GET_SHOP_DETAIL_FAIL","getProductsRequest","getProductsFail","getProductsSuccess","getProductDetailRequest","getProductDetailFail","getProductDetailSuccess","getCategoriesRequest","getCategoriesFail","getCategoriesSuccess","ProductsTypes","product_list","categories","productDetail","ProductsSelectors","getProducts","products","getCategories","tours_info","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_DETAIL_REQUEST","GET_PRODUCT_DETAIL_SUCCESS","GET_PRODUCT_DETAIL_FAIL","GET_CATEGORIES_REQUEST","GET_CATEGORIES_SUCCESS","GET_CATEGORIES_FAIL","apiUrl","JWT_AUTH","JWT_CHECK_TOKEN","SIGNUP","GET_PRODUCTS","getProductDetail","id","GET_SHOPS","getShopDetail","GET_CATEGORIES","parseErrorData","response","errorObj","status","statusText","JSON","stringify","property","createUrlParamsFromFilters","filters","params","URLSearchParams","Object","keys","forEach","key","Array","append","map","value","logIn","username","password","axios","post","endpoints","then","Error","token","catch","err","localStorage","setItem","checkToken","logOut","removeItem","get","getItem","url","method","api","put","AuthActions","resetAuthErrors","call","toggleModal","ProductsActions","results","ShopsActions","root","authApi","AuthApi","productsApi","ProductsApi","shopsApi","ShopsApi","all","takeEvery","productsSaga","shopsSaga","reducers","combineReducers","auth","require","form","formReducer","CatButton","props","history","useHistory","catName","useParams","push","cat","name","classActive","className","onClick","category","ru_name","ShopsList","length","shop","href","aria-hidden","category_products","product","title","price","category_images","image","src","height","witdh","Main","this","Component","connect","notifications","dispatch","query","shopId","ProductTextBody","description","CatProductList","catProducts","i","images","thumb_image","ShopDetail","active_cat","match","delivery","routing","ShopActions","renderField","input","label","placeholder","type","meta","touched","warning","ShopForm","handleSubmit","pristine","submitting","reset","onSubmit","Field","component","nickname","class","disabled","reduxForm","CreateShop","submitCreateShop","bind","e","preventDefault","shopName","shopPhone","shopInfo","ViberAuthenticationComponent","access","ModalAuth","tabindex","role","aria-labelledby","data-dismiss","aria-label","Header","to","viber_name","logout","data-toggle","data-target","store","sagaMiddleware","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","run","rootSaga","configureStore","ReactDOM","render","classname","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.10e7ed6b.chunk.js","sourcesContent":["import { createReducer, createActions } from 'reduxsauce'\nimport Immutable from 'seamless-immutable'\n\n/* ------------- Types and Action Creators ------------- */\n\nconst { Types, Creators } = createActions({\n  loginRequest: ['data'],\n  loginSuccess: ['user'],\n  loginFailure: ['error'],\n\n  logoutRequest: null,\n  logoutSuccess: null,\n  logoutFailure: ['error'],\n\n  checkTokenRequest: ['payload'],\n  checkTokenSuccess: ['payload'],\n  checkTokenFail: ['error'],\n})\n\nexport const AuthTypes = Types\nexport default Creators\n\n/* ------------- Initial State ------------- */\n\nexport const INITIAL_STATE = Immutable({\n  fetching: false,\n  user: null,\n  error: '',\n  isLoggedIn: false,\n  isLoggingIn: false\n})\n\n/* ------------- Selectors ------------- */\n\nexport const AuthSelectors = {\n  getUser: state => state.user\n}\n\n/* ------------- Reducers ------------- */\n\n// login request\nexport const loginRequest = (state, { data }) => {\n  return state.merge({ fetching: true, user: null, isLoggingIn: true, isLoggedIn: false })\n}\n  \n\n// login success\nexport const loginSuccess = (state, { user }) => {\n  return state.merge({ fetching: false, error: null, user: user, isLoggedIn: true, isLoggingIn: false })\n}\n\n// login fail\nexport const loginFailure = (state, action) => {\n  const { error } = action\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\n}\n\n\n// logout request\nexport const logoutRequest = (state) => {\n  return state.merge({ fetching: true, isLoggingIn: true })\n}\n\nexport const logoutSuccess = (state) => {\n  return state.merge({ fetching: false, error: null, user: null, isLoggingIn: false, isLoggedIn: false  })\n}\n\nexport const logoutFailure = (state, { error }) => {\n  return state.merge({ fetching: false, error: error, isLoggingIn: false })\n}\n \nexport const checkTokenRequest = (state, { payload }) => {\n  return state.merge({ fetching: true })\n}\n\nexport const checkTokenSuccess = (state, { payload }) => {\n  return state.merge({ fetching: false, error: null, user: payload.profile, isLoggedIn: true, isLoggingIn: false })\n}\n\nexport const checkTokenFail = (state, { error }) => {\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\n}\n\n/* ------------- Hookup Reducers To Types ------------- */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.LOGIN_REQUEST]: loginRequest,\n  [Types.LOGIN_SUCCESS]: loginSuccess,\n  [Types.LOGIN_FAILURE]: loginFailure,\n  \n  [Types.CHECK_TOKEN_REQUEST]: checkTokenRequest,\n  [Types.CHECK_TOKEN_FAIL]: checkTokenFail,\n  [Types.CHECK_TOKEN_SUCCESS]: checkTokenSuccess,\n  \n  [Types.LOGOUT_REQUEST]: logoutRequest,\n  [Types.LOGOUT_SUCCESS]: logoutSuccess,\n  [Types.LOGOUT_FAILURE]: logoutFailure,\n  \n})\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getShopsRequest: ['payload'],\r\n    getShopsFail: ['payload'],\r\n    getShopsSuccess: ['payload'],\r\n\r\n    getShopDetailRequest: ['payload'],\r\n    getShopDetailFail: ['error'],\r\n    getShopDetailSuccess: ['payload'],\r\n})\r\n\r\nexport const ShopsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    shop_list: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    shopDetail: null,\r\n    errorDetail: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ShopsSelectors = {\r\n    getShops: state => state.shops.shop_list,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get\r\nexport const getShopsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, shop_list: [] })\r\n}\r\n\r\nexport const getShopsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, shop_list: payload })\r\n}\r\n\r\nexport const getShopsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, shop_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getShopDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getShopDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, shopDetail: payload,})\r\n}\r\n\r\nexport const getShopDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, shopDetail: null })\r\n}\r\n\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_SHOPS_REQUEST]: getShopsRequest,\r\n    [Types.GET_SHOPS_SUCCESS]: getShopsSuccess,\r\n    [Types.GET_SHOPS_FAIL]: getShopsFail,\r\n\r\n    [Types.GET_SHOP_DETAIL_REQUEST]: getShopDetailRequest,\r\n    [Types.GET_SHOP_DETAIL_SUCCESS]: getShopDetailSuccess,\r\n    [Types.GET_SHOP_DETAIL_FAIL]: getShopDetailFail,\r\n})\r\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getProductsRequest: ['payload'],\r\n    getProductsFail: ['payload'],\r\n    getProductsSuccess: ['payload'],\r\n\r\n    getProductDetailRequest: ['payload'],\r\n    getProductDetailFail: ['error'],\r\n    getProductDetailSuccess: ['payload'],\r\n\r\n    getCategoriesRequest: ['payload'],\r\n    getCategoriesFail: ['payload'],\r\n    getCategoriesSuccess: ['payload'],\r\n})\r\n\r\nexport const ProductsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    product_list: [],\r\n    categories: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    productDetail: null,\r\n    errorDetail: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ProductsSelectors = {\r\n    getProducts: state => state.products.product_list,\r\n    getCategories: state => state.products.categories,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get products\r\nexport const getProductsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, product_list: [] })\r\n}\r\n\r\nexport const getProductsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, product_list: payload })\r\n}\r\n\r\nexport const getProductsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, product_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getProductDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getProductDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, productDetail: payload,\r\n         tours_info: payload.tours_info})\r\n}\r\n\r\nexport const getProductDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, productDetail: null })\r\n}\r\n\r\n// Get categories\r\nexport const getCategoriesRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, categories: [] })\r\n}\r\n\r\nexport const getCategoriesSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, categories: payload })\r\n}\r\n\r\nexport const getCategoriesFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, categories: [] })\r\n}\r\n\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_PRODUCTS_REQUEST]: getProductsRequest,\r\n    [Types.GET_PRODUCTS_SUCCESS]: getProductsSuccess,\r\n    [Types.GET_PRODUCTS_FAIL]: getProductsFail,\r\n\r\n    [Types.GET_PRODUCT_DETAIL_REQUEST]: getProductDetailRequest,\r\n    [Types.GET_PRODUCT_DETAIL_SUCCESS]: getProductDetailSuccess,\r\n    [Types.GET_PRODUCT_DETAIL_FAIL]: getProductDetailFail,\r\n\r\n    [Types.GET_CATEGORIES_REQUEST]: getCategoriesRequest,\r\n    [Types.GET_CATEGORIES_SUCCESS]: getCategoriesSuccess,\r\n    [Types.GET_CATEGORIES_FAIL]: getCategoriesFail,\r\n})\r\n","export const url = 'https://svoyaeda.su';\r\n// export const url = 'http://192.168.1.6';\r\n\r\nexport const apiUrl = `${url}/api`;\r\n\r\nexport default {\r\n    JWT_AUTH: `${apiUrl}/jwt/api-token-auth/`,\r\n    JWT_CHECK_TOKEN: `${apiUrl}/jwt/api-token-verify/`,\r\n    SIGNUP: `${apiUrl}/users/`,\r\n\r\n    // products\r\n    GET_PRODUCTS: `${apiUrl}/products/`,\r\n    getProductDetail: (id) => `${apiUrl}/products/${id}/`,\r\n\r\n    // shops\r\n    GET_SHOPS: `${apiUrl}/shops/`,\r\n    getShopDetail: (id) => `${apiUrl}/shops/${id}/`,\r\n\r\n    // categories\r\n    GET_CATEGORIES: `${apiUrl}/categories/`,\r\n}","\n// standart serializer field error. There are could be several fields\n// {\n//     \"birth_id\": [\"This field is required.\"]\n// }\n\n\nexport const parseErrorData = (error) => {\n\n    if (error && typeof error.response !== 'undefined') {\n        let errorObj = {\n            status: error.response.status, \n            statusText: error.response.statusText,\n            message: null,\n            response: error.response,\n        }\n        if ('message' in error.response.data) {\n            errorObj.message = JSON.stringify(error.response.data.message)\n        }\n        else {\n            let message = ''\n            for (const property in error.response.data) {\n                message = message + `${property}: ${error.response.data[property]}. `\n              }\n            errorObj.message = message\n\n        }\n        return errorObj\n\n    } else {\n        return { \n         status: 'Connection Error',\n         statusText: 'An error occurred while sending your data!',\n         message: 'An error occurred while sending your data!' }\n    }\n}\n\nexport const createUrlParamsFromFilters = (filters) => {\n    const params = new URLSearchParams()\n\n    if (filters != null) Object.keys(filters).forEach(key => {\n            if (filters[key] !== null && !(filters[key] instanceof Array)) \n                params.append(key, filters[key])\n            if (filters[key] !== null && filters[key] instanceof Array){\n                delete params[key]\n                filters[key].map(value => {\n                    if (value !== '')\n                        params.append(key, value)\n                    return null\n                })\n            }\n        })\n    return params\n}","import axios from 'axios';\nimport endpoints from './endpoints';\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\n\n\nconst create = () => {\n  const logIn = (data: { username: string, password: string}): void => {\n    const { username, password } = data;\n    \n     return axios.post(endpoints.JWT_AUTH, { username, password })\n      .then(response => {\n        if (response.status < 200 || response.status >= 300) {\n            throw new Error(response);\n        }\n        return { token: response.data.token, user: response.data.user };\n      })\n      .catch(err => {\n        throw new Error(err.response.data[Object.keys(err.response.data)[0]][0])\n      })\n      .then((response) => {\n          localStorage.setItem('token', response.token);\n          return response.user;\n      })\n  }\n\n  const logOut = () => {\n    localStorage.removeItem('token');\n  }\n\n  const checkToken = (payload: string) => {\n    return axios.post(endpoints.JWT_CHECK_TOKEN, { token: payload })\n      .then(response => {\n        localStorage.setItem('token', response.data.token);\n        return response.data\n      })\n      .catch(err => {\n        const error = new Error(err);\n            error.data = parseErrorData(err);\n            throw error;\n      })\n  }\n\n  return {\n    logIn,\n    checkToken,\n    logOut,\n  }\n}\n\nexport default {\n  create\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getCategories = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_CATEGORIES, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProducts = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_PRODUCTS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProductDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getProductDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getProducts,\r\n        getProductDetail,\r\n        getCategories\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getShops = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_SHOPS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getShopDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getShopDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getShops,\r\n        getShopDetail\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import { put, call } from 'redux-saga/effects';\r\n// import { push } from 'react-router-redux';\r\n// import Notifications from 'react-notification-system-redux';\r\n\r\nimport AuthActions from '../redux-sauce/auth'\r\n\r\nexport function * logIn (api, action) {\r\n  const { data } = action;\r\n  yield put(AuthActions.resetAuthErrors())\r\n  try {\r\n    let response = yield call(api.logIn, data)\r\n    yield put(AuthActions.loginSuccess(response))\r\n    yield put(AuthActions.toggleModal(false))\r\n  } catch (e) {\r\n    yield put(AuthActions.loginFailure(e.message))\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function * logOut (api, action) {\r\n  try {\r\n    yield call(api.logOut)\r\n    yield put(AuthActions.logoutSuccess())\r\n  } catch (e) {\r\n    yield put(AuthActions.logoutFailure(e.message))\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function* checkToken(api, action) {\r\n  const { payload } = action;\r\n  try {\r\n    let response = yield call(api.checkToken, payload);\r\n    yield put(AuthActions.checkTokenSuccess(response));\r\n  } catch (e) {\r\n    yield put(AuthActions.checkTokenFail(e.message))\r\n  }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ProductsActions from '../redux-sauce/products'\r\n\r\nexport function* getProducts(api, action) {\r\n    try {\r\n        let response = yield call(api.getProducts, action.payload);\r\n        yield put(ProductsActions.getProductsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getProductDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getProductDetail, action.payload);\r\n        yield put(ProductsActions.getProductDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductDetailFail(err))\r\n    }\r\n}\r\n\r\nexport function* getCategories(api, action) {\r\n    try {\r\n        let response = yield call(api.getCategories, action.payload);\r\n        yield put(ProductsActions.getCategoriesSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getCategoriesFail(err))\r\n    }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ShopsActions from '../redux-sauce/shops'\r\n\r\nexport function* getShops(api, action) {\r\n    try {\r\n        let response = yield call(api.getShops, action.payload);\r\n        yield put(ShopsActions.getShopsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getShopDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getShopDetail, action.payload);\r\n        yield put(ShopsActions.getShopDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopDetailFail(err))\r\n    }\r\n}","import { takeEvery, all, takeLatest } from \"redux-saga/effects\";\r\n\r\n/* -------------- API -------------- */\r\nimport AuthApi from \"../api/authApi\";\r\nimport ProductsApi from '../api/productsApi';\r\nimport ShopsApi from '../api/shopsApi';\r\n\r\n/* ------------- Types ------------- */\r\nimport { AuthTypes } from \"../redux-sauce/auth\";\r\nimport { ProductsTypes } from '../redux-sauce/products';\r\nimport { ShopsTypes } from '../redux-sauce/shops';\r\n\r\n/* ------------- Sagas ------------- */\r\nimport { logIn, logOut, checkToken, signUp, checkAuth } from \"./authSagas\";\r\nimport * as productsSaga from './productsSagas';\r\nimport * as shopsSaga from './shopsSagas';\r\n\r\nconst authApi = AuthApi.create();\r\nconst productsApi = ProductsApi.create();\r\nconst shopsApi = ShopsApi.create();\r\n\r\nexport default function* root() {\r\n  yield all([\r\n    takeEvery(AuthTypes.LOGIN_REQUEST, logIn, authApi),\r\n    takeEvery(AuthTypes.LOGOUT_REQUEST, logOut, authApi),\r\n    takeEvery(AuthTypes.CHECK_TOKEN_REQUEST, checkToken, authApi),\r\n\r\n    takeEvery(ProductsTypes.GET_PRODUCTS_REQUEST, productsSaga.getProducts, productsApi),\r\n    takeEvery(ProductsTypes.GET_PRODUCT_DETAIL_REQUEST, productsSaga.getProductDetail, productsApi),\r\n    takeEvery(ProductsTypes.GET_CATEGORIES_REQUEST, productsSaga.getCategories, productsApi),\r\n\r\n    takeEvery(ShopsTypes.GET_SHOPS_REQUEST, shopsSaga.getShops, shopsApi),\r\n    takeEvery(ShopsTypes.GET_SHOP_DETAIL_REQUEST, shopsSaga.getShopDetail, shopsApi),\r\n  ]);\r\n}\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import { routerMiddleware, routerReducer } from 'react-router-redux'\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from '../sagas';\r\n// import { reducer as notifications } from 'react-notification-system-redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nexport const reducers = combineReducers({\r\n  // routing: routerReducer,\r\n  auth: require('../redux-sauce/auth').reducer,\r\n  products: require('../redux-sauce/products').reducer,\r\n  shops: require('../redux-sauce/shops').reducer,\r\n  \r\n  form: formReducer,\r\n  // notifications: notifications\r\n})\r\n\r\nexport default (history) => {\r\n  // const rMiddleware = routerMiddleware(history)\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const store = createStore(reducers, composeWithDevTools(\r\n    applyMiddleware(sagaMiddleware)\r\n  ));\r\n\r\n  let sagasManager = sagaMiddleware.run(rootSaga)\r\n\r\n  if (module.hot) {\r\n    module.hot.accept(() => {\r\n      const nextRootReducer = require('./').reducers\r\n      store.replaceReducer(nextRootReducer)\r\n\r\n      const newYieldedSagas = require('../sagas').default\r\n      sagasManager.cancel()\r\n      sagasManager.done.then(() => {\r\n        sagasManager = sagaMiddleware.run(newYieldedSagas)\r\n      })\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { url } from '../redux/api/endpoints';\r\n\r\n// actions\r\nimport ProductsActions from '../redux/redux-sauce/products';\r\nimport ShopsActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nfunction CatButton(props) {\r\n  let history = useHistory();\r\n  const { catName } = useParams();\r\n\r\n  if (!catName){\r\n    history.push(\"/dm/categories/\" + props.cat.name);\r\n  }\r\n\r\n  const classActive = catName == props.cat.name ? 'btn-category-active' : ''\r\n\r\n  function handleClick() {\r\n    history.push(\"/dm/categories/\" + props.cat.name);\r\n    props.getShops({category: props.cat.name})\r\n  }\r\n\r\n  return (\r\n    <div className={'btn-category ' + classActive}>\r\n      <span className='category-name' \r\n        onClick={handleClick}>\r\n          {props.cat.ru_name}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ShopsList(props) {\r\n  const { catName } = useParams();\r\n  const { shop_list, listFetching, errorList } = props\r\n\r\n  if (catName && shop_list.length <= 0 && !listFetching && !errorList) {\r\n    props.getShops({category: catName})\r\n  }\r\n\r\n  return (\r\n    !listFetching && shop_list && shop_list.length > 0 && shop_list.map(shop => \r\n      <div className='item-shop'>\r\n        <div className='row'>\r\n          <div className='col-8 shop-name'>\r\n            <a href={'http://192.168.1.3:3000/dm/shops/' + shop.id + '/products/' + catName}>\r\n              {shop.name}</a>\r\n          </div>\r\n          <div className='col-4 shop-ratings'>\r\n            <div className='row'>\r\n              <div className='col-6 shop-stars'>\r\n                <i className=\"fa fa-star-o\" aria-hidden=\"true\"></i> 4,5\r\n              </div>\r\n              <div className='col-6 shop-feedbacks-count'>\r\n                <i className=\"fa fa-comment-o\" aria-hidden=\"true\"></i> 7\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-7'>\r\n            {shop.category_products && shop.category_products.length > 0 && shop.category_products.map(product => \r\n              <div className='item-product'>\r\n                  <p className='item-product-title'>{product.title} - {product.price}</p>\r\n              </div>\r\n              )}\r\n          </div>\r\n          <div className='col-5'>\r\n              {shop.category_products && shop.category_images.map(image =>\r\n                  <img src={url + image} className='item-product-img'\r\n                  height='70' witdh='70'/>\r\n              )} \r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getCategories()\r\n  }\r\n\r\n  render() {\r\n    const { categories } = this.props.state.products\r\n    const { shop_list, listFetching, errorList } = this.props.state.shops\r\n\r\n    return (\r\n      // <div className=\"app\">\r\n        <div className='container-fluid block-main'>\r\n          <div className='block-content'>\r\n            <div className='shop-list'>\r\n              <div className='block-categories'>\r\n                {categories && categories.map(cat =>\r\n                  <CatButton cat={cat} getShops={this.props.getShops}/>\r\n                )}\r\n                <div className='clearfix'></div>\r\n              </div>\r\n\r\n              <div className='block-shops'>\r\n                <ShopsList shop_list={shop_list} listFetching={listFetching} getShops={this.props.getShops}\r\n                  errorList={errorList}/>\r\n              </div>\r\n            </div>\r\n         </div>\r\n        </div>\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notifications: state.notifications,\r\n  state: state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getCategories: query => dispatch(ProductsActions.getCategoriesRequest(query)),\r\n  getShops: query => dispatch(ShopsActions.getShopsRequest(query)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Main);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\n\r\nimport { url } from '../redux/api/endpoints';\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nfunction ToShopListButton() {\r\n  let history = useHistory();\r\n  const { catName } = useParams();\r\n\r\n  function handleClick() {\r\n    history.push(`/dm/${catName}`)\r\n  }\r\n\r\n  return (\r\n    <div className='btn-category '\r\n        onClick={handleClick}>\r\n          назад к продавцам\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CatButton(props) {\r\n  let history = useHistory();\r\n  const { catName, shopId } = useParams();\r\n  const { cat } = props\r\n\r\n  const classActive = catName == cat[0] ? 'btn-category-active' : ''\r\n\r\n  function handleClick() {\r\n    history.push(\"/dm/shops/\" + shopId + '/products/' + cat[0] + '/')\r\n  }\r\n\r\n  return (\r\n    <div className={'btn-category ' + classActive}>\r\n      <span className='category-name' \r\n        onClick={handleClick}>\r\n          {cat[1]}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductTextBody(props) {\r\n  return (\r\n    <div className='shop-product-text-body'>\r\n      <div className='shop-product-title'>{props.product.title}</div>\r\n      <div className='shop-product-description'>{props.product.description}</div>\r\n      <div className='shop-product-price'>{props.product.price}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CatProductList(props) {\r\n  const { catName } = useParams();\r\n  const { products } = props\r\n  let catProducts = []\r\n\r\n  if (catName && products.length > 0) {\r\n    for (var i = 0; i < products.length; i++){\r\n      if (products[i].category === catName){\r\n        catProducts = [...catProducts, products[i]]\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='shop-products'>\r\n      {catProducts.map(product => \r\n        <div className='shop-product'>\r\n          {product.images.length > 0 ? \r\n            <div className='row'>\r\n              <div className='col-8'>\r\n                <ProductTextBody product={product} />\r\n              </div>\r\n              <div className='col-4'>\r\n                  <img src={url + product.images[0].thumb_image} height='70' witdh='70'/>\r\n              </div>\r\n            </div>\r\n            :\r\n            <ProductTextBody product={product} />\r\n            }\r\n            \r\n        </div>\r\n        )}\r\n    </div>\r\n  )}\r\n\r\n\r\nclass ShopDetail extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      catProducts: [],\r\n      active_cat: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { shopId } = this.props.match.params\r\n    this.props.getShopDetail(shopId)\r\n  }\r\n\r\n  render() {\r\n    const { shopDetail } = this.props.state.shops\r\n    return (\r\n        shopDetail && \r\n          <div className='container-fluid shop-detail'>\r\n            {/* <ToShopListButton /> */}\r\n            <div className='shop-header'>\r\n              <div className='row'>\r\n                <div className='col-9 shop-title'>\r\n                  {shopDetail.name}\r\n                </div>\r\n                <div className='col-3 shop-ratings'>\r\n                  <i className=\"fa fa-commenting-o\" aria-hidden=\"true\"> </i> {' '}\r\n                  17 отзывов\r\n                </div>\r\n              </div>\r\n              <div className='shop-descrtiption'>\r\n                {shopDetail.description}\r\n              </div>\r\n              <div className='row'>\r\n                <div className='col-8 shop-delivery'>\r\n                  {shopDetail.delivery}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='shop-categories'>\r\n              {shopDetail.categories.map(cat => \r\n                <CatButton cat={cat}/>\r\n              )}\r\n              <div className='clearfix'></div>\r\n            </div>\r\n            <CatProductList products={shopDetail.products} />\r\n          </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ShopDetail);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { url } from '../redux/api/endpoints';\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nconst renderField = ({\r\n  input,\r\n  label,\r\n  placeholder,\r\n  type,\r\n  meta: { touched, error, warning }\r\n}) => (\r\n  <div>\r\n    <label>{label}</label>\r\n    <div>\r\n      <input {...input} placeholder={placeholder} type={type} className=\"form-control\"/>\r\n      {touched &&\r\n        ((error && <span>{error}</span>) ||\r\n          (warning && <span>{warning}</span>))}\r\n    </div>\r\n  </div>\r\n)\r\n\r\n\r\nlet ShopForm = props => {\r\n  const { handleSubmit, pristine, reset, submitting, user } = props\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          component={renderField}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder={'Ирина буузы или Сергей Самогон :)'}\r\n          value={user ? user.nickname : ''}\r\n          label='Имя продавца/Название магазина'\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          name=\"phone\"\r\n          component={renderField}\r\n          type=\"number\"\r\n          placeholder=\"79148965232\"\r\n          label=\"Телефон\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Доп. информация(необязательно)</label>\r\n        <div>\r\n          <Field name=\"notes\" component=\"textarea\" placeholder=\"79148965232\" class=\"form-control\"/>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button \r\n          // type=\"submit\"\r\n          onClick={handleSubmit}\r\n\r\n          disabled={pristine || submitting}>\r\n          Далее\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nShopForm = reduxForm({\r\n  form: 'shopCreate' // a unique identifier for this form\r\n})(ShopForm)\r\n\r\n\r\nclass CreateShop extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n    }\r\n\r\n  this.submitCreateShop = this.submitCreateShop.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  submitCreateShop(e){\r\n    e.preventDefault()\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props\r\n\r\n    return (\r\n      <div className='container-fluid shop-create'>\r\n        <p>Создание магазина(уже авторизованный пользователь)</p>\r\n        <ShopForm shopName={''} shopPhone={''} shopInfo={''} handleSubmit={this.submitCreateShop}\r\n          user={user}/>\r\n\r\n        <div className='shop-create-form'>\r\n          <p>Что продаете?</p>\r\n          <div className='input-group'>\r\n            <input type='text' className='form-control' \r\n              placeholder='буузы, стегно верблюда, мешок картошки, банку икры и тд.' />\r\n          </div>\r\n          <div className='input-group'>\r\n            <label> Категория\r\n              <select className='form-control'>\r\n                <option>Полуфабрикаты</option>\r\n                <option>Мясо</option>\r\n                <option>Рыба</option>\r\n                <option>Выпечка</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n          <div className='input-group'>\r\n            <input type='text' className='form-control' placeholder='30р/шт, 10р/кг, 10р/л и тд.' />\r\n          </div>\r\n          <div className='input-group'>\r\n            <textarea type='text' className='form-control' placeholder='Доп. информация(необязательно)' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n  user: state.auth.user\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateShop);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Main from '../containers/Main';\r\n\r\nimport AuthActions from '../redux/redux-sauce/auth';\r\n\r\n\r\nclass ViberAuthenticationComponent extends Component {\r\n    componentDidMount() {\r\n      // const token = localStorage.getItem('token');\r\n      const { token } = this.props.match.params\r\n      if (token) {\r\n        this.props.checkToken(token);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      let access = false\r\n      if (this.props.isLoggedIn === true) access = true\r\n      return (\r\n          <div>\r\n              {access\r\n                  ? <Main />\r\n                  : 'Не авторизован'\r\n              }\r\n          </div>\r\n      )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isLoggedIn: state.auth.isLoggedIn,\r\n    user: state.auth.user,\r\n    state: state\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    checkToken: (token) => dispatch(AuthActions.checkTokenRequest(token)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViberAuthenticationComponent);\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// actions\r\nimport AuthActions from '../redux/redux-sauce/auth';\r\n\r\n\r\nfunction ModalAuth (props){\r\n  return (\r\n    <div className=\"modal fade\" id=\"authModal\" tabindex=\"-1\" role=\"dialog\" \r\n      aria-labelledby=\"authModalLabel\" aria-hidden=\"true\">\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"authModalLabel\">Войти с помощью</h5>\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <a href='viber://pa?chatURI=dm-eda&context=Chto_za_CONTEXT?&text=войти'>Войти через вайбер</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      this.props.checkToken(token);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn, user } = this.props.auth\r\n    return (\r\n      <div className='header'>\r\n        <p className='head-title'>Домашняя продукция</p>\r\n        {/* <Link to='/dm/shops/create/'>Создать обьявление</Link> */}\r\n        {isLoggedIn ? \r\n          user.shop ?\r\n            <div>\r\n              <Link to='/dm/shops/create/'>Мои объявления</Link>\r\n              <p>{user.viber_name} <button onClick={this.props.logout}>Выйти</button></p>\r\n            </div>\r\n            :\r\n            <div>\r\n              <Link to='/dm/shops/create/'>Создать обьявление</Link>\r\n              <p>{user.viber_name} <button onClick={this.props.logout}>Выйти</button></p>\r\n            </div>\r\n          :\r\n          <div>\r\n            <button className='btn' data-toggle=\"modal\" data-target=\"#authModal\">Создать обьявление</button>\r\n            <button className='btn' data-toggle=\"modal\" data-target=\"#authModal\">Войти</button>\r\n          </div>\r\n        }\r\n        <ModalAuth/>\r\n        <hr/>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  state: state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  checkToken: (token) => dispatch(AuthActions.checkTokenRequest(token)),\r\n  logout: () => dispatch(AuthActions.logoutRequest()),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import { browserHistory } from 'react-router';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n} from \"react-router-dom\";\r\n\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './redux/store/';\r\n\r\n// Containers\r\nimport Main from './containers/Main'\r\nimport ShopDetail from './containers/ShopDetail'\r\nimport CreateShop from './containers/CreateShop'\r\nimport ViberAuthenticationComponent from './containers/ViberLogin'\r\nimport Header from './containers/HeaderContainer'\r\n\r\n// components\r\nimport MainPage from './components/MainPage'\r\n\r\n// const store = configureStore(browserHistory)\r\nconst store = configureStore()\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <div classname='app'>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Main />\r\n          </Route>\r\n          <Route exact path=\"/dm/categories/:catName/\">\r\n            <Main />\r\n          </Route>\r\n          <Route path=\"/dm/shops/:shopId/products/:catName\" component={ShopDetail} />\r\n          <Route path=\"/dm/shops/create/\" component={CreateShop} />\r\n          <Route path=\"/dm/login/v/:token\" component={ViberAuthenticationComponent} />\r\n        </Switch>\r\n        <div className='footer'>\r\n          <p className='foot-title'>Домашняя продукция</p>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  </Provider>, document.getElementById('root')\r\n);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router';\r\n\r\n\r\nclass MainPage extends Component {\r\n   constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n    \r\n    return (\r\n        <div className='main-page container-fluid'>\r\n          <h1>Домашняя продукция</h1>\r\n          <div className=\"row\">\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainPage"],"sourceRoot":""}